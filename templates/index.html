<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flask App</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>

    <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">FGSM</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container my-2">
        <div class="row justify-content-center" style="text-align: center;">
            <div class="col-md-5 my_container">
                <h3 class="mb-1">Fast Gradient Sign Method</h3>
                <p>The Fast Gradient Sign Method (FGSM) is an adversarial attack technique used in machine learning. It perturbs input data by adding noise in the direction of the gradient of the loss function, scaled by a small factor. This alters the input just enough to mislead a model while keeping it visually similar.</p>
            </div>
            <div class="col-md-5 my_container" style="text-align: center;">
                <h3 class="mb-4">Upload an Image</h3>
                <form action="/upload" method="post" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="image">Choose an image:</label>
                        <input type="file" class="form-control-file" id="image" name="image" accept="image/*" required>
                        <button type="submit" class="btn btn-outline-dark btn-sm mx-1">Upload</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="row">
            {% if check %}
                <div class="col-sm">
                    <div class="gallery">
                        <img src="{{ url_for('serve_image', filename='predicted_image.png') }}" alt="Predicted Image">
                    </div>
                </div>
                <div class="col-sm">
                    <div class="gallery">
                        <img src="{{ url_for('serve_image', filename='adversarial_image.png') }}" alt="Predicted Image">
                    </div>
                </div>
            {% endif %}
        </div>
        
    </div>



    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
</body>

</html>